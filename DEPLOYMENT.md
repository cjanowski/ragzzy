# RagZzy Deployment Guide\n\n## Quick Setup\n\n### 1. Get a Google Gemini API Key\n\n1. Go to [Google AI Studio](https://makersuite.google.com/app/apikey)\n2. Sign in with your Google account\n3. Click \"Create API Key\"\n4. Copy the generated API key\n\n### 2. Set Up Environment Variables\n\n1. Copy the example environment file:\n   ```bash\n   cp .env.example .env\n   ```\n\n2. Edit `.env` and add your API key:\n   ```bash\n   GEMINI_API_KEY=your_actual_api_key_here\n   ```\n\n### 3. Test Locally\n\n1. Install Vercel CLI:\n   ```bash\n   npm install -g vercel\n   ```\n\n2. Start the development server:\n   ```bash\n   npm run dev\n   # or\n   vercel dev\n   ```\n\n3. Open your browser to `http://localhost:3000`\n\n4. Test the chat functionality:\n   - Ask: \"What are your business hours?\"\n   - Try: \"How do I contact support?\"\n   - Test knowledge contribution when the bot doesn't know something\n\n### 4. Deploy to Production\n\n1. Login to Vercel:\n   ```bash\n   vercel login\n   ```\n\n2. Deploy to production:\n   ```bash\n   npm run deploy\n   # or\n   vercel --prod\n   ```\n\n3. Set environment variables in Vercel dashboard:\n   - Go to your project in Vercel dashboard\n   - Navigate to Settings â†’ Environment Variables\n   - Add `GEMINI_API_KEY` with your API key value\n   - Set it for Production, Preview, and Development\n\n4. Redeploy to apply environment variables:\n   ```bash\n   vercel --prod\n   ```\n\n## Configuration Options\n\n### Environment Variables\n\n| Variable | Required | Default | Description |\n|----------|----------|---------|-------------|\n| `GEMINI_API_KEY` | Yes | - | Your Google Gemini API key |\n| `NODE_ENV` | No | development | Environment (development/production) |\n| `LOG_LEVEL` | No | info | Logging level (info/debug/error) |\n| `CONFIDENCE_THRESHOLD` | No | 0.3 | Minimum confidence to show contribution prompt |\n| `MAX_CONTRIBUTION_LENGTH` | No | 2000 | Maximum characters for user contributions |\n| `MIN_CONTRIBUTION_LENGTH` | No | 10 | Minimum characters for user contributions |\n\n### Knowledge Base Customization\n\n1. Edit `knowledge_base.txt` to add your company-specific information\n2. Use the Q&A format:\n   ```\n   Question or Topic\n   Answer or explanation for the topic.\n   \n   Another Question\n   Another detailed answer.\n   ```\n\n3. The system automatically reloads when you update the file\n\n## Testing Your Deployment\n\n### 1. Basic Functionality\n- [ ] Chat interface loads properly\n- [ ] Can send and receive messages\n- [ ] Bot responds with relevant information from knowledge base\n- [ ] Error handling works (try sending empty messages)\n\n### 2. Knowledge Contribution Features\n- [ ] Low-confidence responses trigger contribution prompts\n- [ ] Contribution modal opens and closes properly\n- [ ] Can submit new knowledge successfully\n- [ ] Contributed knowledge appears in future responses\n- [ ] Guided prompts work for common topics\n\n### 3. Responsive Design\n- [ ] Works on mobile devices\n- [ ] Works on tablets\n- [ ] Works on desktop browsers\n- [ ] Accessibility features work (keyboard navigation, screen readers)\n\n### 4. API Endpoints\n- [ ] `/api/health` returns status\n- [ ] `/api/chat` processes messages\n- [ ] `/api/contribute` accepts contributions\n- [ ] Error responses are user-friendly\n\n## Monitoring and Maintenance\n\n### Check Service Health\n```bash\ncurl https://your-deployment-url.vercel.app/api/health\n```\n\n### Monitor Logs\n- View function logs in Vercel dashboard\n- Check for API errors or rate limiting\n- Monitor contribution patterns\n\n### Update Knowledge Base\n1. Edit `knowledge_base.txt` locally\n2. Test changes with `vercel dev`\n3. Deploy with `vercel --prod`\n4. Knowledge base automatically reloads\n\n## Cost Management\n\n### Gemini API Costs\n- Embedding generation: ~$0.00010 per 1K tokens\n- Text generation: ~$0.00075 per 1K tokens\n- Monitor usage in Google AI Studio\n\n### Vercel Costs\n- Hobby plan: Free (sufficient for most use cases)\n- Pro plan: $20/month (for higher traffic)\n- Function execution time and invocations count towards limits\n\n## Troubleshooting\n\n### Common Issues\n\n**1. \"API key not configured\" error**\n- Verify `GEMINI_API_KEY` is set in environment variables\n- Check the API key is valid in Google AI Studio\n- Ensure environment variables are set for the correct environment\n\n**2. \"Knowledge base not found\" warning**\n- Ensure `knowledge_base.txt` exists in project root\n- Check file permissions\n- Verify file contains properly formatted content\n\n**3. Slow response times**\n- Check Gemini API quotas and limits\n- Consider reducing `maxRetrievalChunks` in config\n- Monitor function execution time in Vercel dashboard\n\n**4. Contribution not saving**\n- Check file write permissions\n- Verify contribution validation logic\n- Check function logs for errors\n\n### Debug Mode\n\nEnable debug logging by setting:\n```bash\nLOG_LEVEL=debug\n```\n\n### Support\n\nFor deployment issues:\n1. Check the Vercel function logs\n2. Test API endpoints directly\n3. Verify environment variables are set correctly\n4. Ensure knowledge base format is correct\n\n## Security Considerations\n\n- Never commit API keys to version control\n- Use environment variables for all secrets\n- Regularly rotate API keys\n- Monitor API usage for unusual patterns\n- Validate all user inputs\n- Implement rate limiting if needed\n\n## Performance Tips\n\n- Keep knowledge base under 1MB for optimal performance\n- Use clear, concise Q&A format in knowledge base\n- Monitor response times and optimize if needed\n- Consider caching for frequently asked questions\n- Regularly clean up low-quality contributions\n\n---\n\n**Need help?** Check the main README.md or create an issue in the repository."